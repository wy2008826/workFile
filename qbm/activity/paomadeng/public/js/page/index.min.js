define(function(require,exports,module){require("zepto"),require("fastclick");var template=require("artTemplate");FastClick.attach(document.body),$(function(){var App=function(){this.tpl={submitNickNameTpl:template.compile($("#submitNickNameTpl").html())},this.url={webUrl:$("#webUrl").val(),subNickUrl:"/submiturl.html"},this.init(),this.submitPhone()};App.prototype={init:function(){},submitPhone:function(){var self=this;$("#clickStart").on("click",function(){var html=self.tpl.submitNickNameTpl({});layer.open({content:html,success:function(){function validateNickName($inp){var $nickInp=$inp;console.log("validate");var val=$nickInp.val().trim();""==val.trim()||val.length>28?$submitBtn.addClass("disabled"):$submitBtn.removeClass("disabled")}var $submitBtn=$(".layermchild #alert_btn").eq(0);$(".layermchild #alert_nickname").on("input",function(){var $inp=$(this);validateNickName($inp)})}})}),$("body").on("click","#alert_btn",function(e){var $inp=$(".layermchild .alert_inp"),$btn=$(this),val=$inp.val(),$error=$(".layermchild .alert_error");return $btn.hasClass("disabled")?!1:""==val?(e.preventDefault(),$error.removeClass("hide").text("昵称不能为空"),!1):val.length>28?(e.preventDefault(),$error.removeClass("hide").text("昵称不能大于28个字符"),!1):void $error.removeClass("hide").text("")})}};new App})});