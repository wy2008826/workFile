define(function(require,module,exports){require("zepto"),require("fastclick"),FastClick.attach(document.body),$(function(){var App=function(){this.url={wapUrl:$("#wapurl").val(),loginByTelUrl:"/api/loginByPhone.html"},this.match={phone:function(val,required){var telReg=/^1[34578]\d{9}$/;return val.search(telReg)<0?!1:!0}},this.alertMes=function(html){layer.open({content:html,shadeClose:!1,type:1,className:"hasPadding",btn:["好的"]})},this.init(),this.submitForm()};App.prototype={init:function(){function matchTel(){var value=$tel.val(),matched=self.match.phone(value.trim());matched?$next.removeClass("disabled"):$next.addClass("disabled")}var self=this,$next=$("#next"),$tel=$("#tel"),$clearInput=$("#clearInput");$("body").on("click",".layermbtn span",function(){layer.closeAll()}),$tel.focus(function(elem){var $inp=$(this);$inp.closest(".list_item").addClass("active");$clearInput.removeClass("hide")}),$tel.blur(function(elem){var $inp=$(this);$inp.closest(".list_item").removeClass("active");$clearInput.addClass("hide")}),$("#tel")[0].addEventListener("input",function(){matchTel()}),matchTel(),$("#clearInput").on("click",function(){$("#tel").val("").focus()})},submitForm:function(){require("layer");$("#next").on("click",function(e){$("#loginForm");if($(this).hasClass("disabled"))return!1;var $phoneInp=$("#tel"),phoneVal=$phoneInp.val();e.preventDefault();var href="../passport/reg.html?phoneNumber="+phoneVal;window.location.href=href})}};new App})});